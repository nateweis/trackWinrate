<!DOCTYPE html>
<html lang="en" ng-app="WinRateApp">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Win Tracker</title>
    <link rel="stylesheet" href="style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular.min.js"></script>
    <script src="app.js"></script>
</head>
<body ng-controller="WinController as wr">
    <div>
        <h3>Select Deck Colors</h3>
        <span class="color white" ng-click="wr.addColor('white')"></span>
        <span class="color red" ng-click="wr.addColor('red')"></span>
        <span class="color blue" ng-click="wr.addColor('blue')"></span>
        <span class="color green " ng-click="wr.addColor('green')"></span>
        <span class="color black " ng-click="wr.addColor('black')"></span>
    </div>

    <input type="text" placeholder="Add a Deck" ng-model="wr.name">
    <button ng-click="wr.saveDeck()">Submit</button>

    <div>
        <h3>Select Deck Colors</h3>
        <span ng-repeat="color in wr.colorArr" class="color {{color}} " ng-click="wr.removeColor(color)">X</span>
    </div>

    <hr>
    <h2>Your Decks</h2>
    <div ng-repeat="deck in wr.decks">
        <div class="deck">
            <h3>{{deck.name}}</h3>
            <span ng-repeat="c in deck.color" class="color {{c}} "></span>
            <h5>Winrate out of <span>{{deck.wins + deck.losses}}</span> matches</h5>
            <p>% {{(deck.wins / (deck.wins + deck.losses)) * 100 | number:2}}</p>
        </div>
        <button ng-click="wr.changeRecord('win', deck.id)" >Win</button> {{deck.wins}}
        <button ng-click="wr.changeRecord('loss', deck.id)">Loss</button> {{deck.losses}}
        <button ng-click="wr.changeRecord('wipe', deck.id)">Clear Record</button>
    </div>

</body>
</html>